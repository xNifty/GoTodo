# v0.5.0-beta-1 (beta)

A beta release focused on UX improvements for task management, reliability fixes, and infrastructure work (asset pipeline and Redis support). Highlights include drag-and-drop task ordering, favorites, improved pagination, invite/email utilities, mobile styling improvements, and a new changelog system that can pull from GitHub Releases (with caching).

## Highlights

- Drag & drop task sorting and persisted ordering.
- Favorites: pin up to 5 tasks (UI + server support, toast notification on limit).
- Per-user tasks-per-page preference (10 / 15 / 25 / 50).
- Invite system with a reusable `send_email` utility and email sending on invite creation.
- Authentication and per-user task personalization.
- Dark/light theme toggle and styling improvements.
- New changelog UI:
  - modal shows recent entries; full page at `/changelog/page` shows history
  - supports GitHub Releases (owner/repo) with Redis-backed ETag caching and in-memory fallback
  - startup preload to fetch releases once on server start

## Fixes & Improvements

- Robust pagination behavior (deleting on last page, consistent page counts).
- Multiple login/logout/profile fixes and general stability work.
- Mobile/responsive CSS fixes for profile and admin flows.
- Asset pipeline improvements: CI minification with safe dev defaults for unminified assets.
- Removed old CLI code and moved fully to a web app architecture.
- Postgres migrations and DB improvements included.

## Infra & Developer Notes

- Redis is used for rate-limiting and changelog caching when configured (`REDIS_URL`). If Redis is not available, a local in-memory cache is used.
- Changelog fetch is performed at server startup (to avoid per-request GitHub API calls).
- Assets are served with `ASSET_VERSION` support; dev uses unminified assets by default.

## Environment variables

Set these in your environment or `.env`:

```dotenv
# GitHub changelog (owner/repo)
GITHUB_REPO=owner/repo

# Optional (recommended) GitHub token for higher rate limits
GITHUB_TOKEN=ghp_xxx...

# Redis (optional, recommended for production)
REDIS_URL=redis://... or rediss://...
```

Also: `SHOW_CHANGELOG` can be set to `false` (in `config/config.json` or env) to disable the changelog feature.

## Upgrade / Breaking notes

- If you rely on unauthenticated GitHub requests, note the 60 requests/hour limit; this release avoids hitting that by caching releases at startup (and storing caches in Redis when available).
- Ensure `REDIS_URL` is configured for production rate-limiting/caching; otherwise the app falls back to in-memory caching (single-process).
- No DB-breaking changes expected in this release; run usual migrations if you use the repo's migration scripts.

## How to verify locally

```bash
# run server
go run main.go

# check changelog JSON (after startup preload)
curl http://localhost:8080/changelog | jq .

# view full changelog page
curl http://localhost:8080/changelog/page
```
